document.addEventListener("DOMContentLoaded",function(){var t=document.getElementById("auto-focus-field");t.focus(),setTimeout(function(){t.placeholder=""},1e3),document.getElementById("sendButton").addEventListener("click",function(){const e=document.getElementById("auto-focus-field").value;o(e)})});async function o(t){try{const n=await fetch("/send-chat",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")},body:`userInput=${encodeURIComponent(t)}`}),e=await n.json();if(!n.ok){console.error("Error Response:",e),document.getElementById("aiResponse").innerText=e.error?e.error:"Unknown error occurred";return}document.getElementById("aiResponse").innerText=e.choices[0].message.content}catch(n){console.error("Error:",n),document.getElementById("aiResponse").innerText="Error sending request."}}
